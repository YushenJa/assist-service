/* Что делает:

* ловит ошибки из нижележащих слоёв (core, context, faq, ai);

* решает, какой HTTP-код и какое сообщение отдать:

    * при валидации → 400,

    * при отсутствии прав → 403,

    * при проблеме с провайдером AI → 502/500,

    * при неожиданных исключениях → 500 с безопасным текстом (не показывать внутренности).

* всегда добавляет requestId в ответ (очень полезно для поддержки).

Зачем: чтобы пользователь и фронтенд получали понятные и однородные ответы об ошибках. */